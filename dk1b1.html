<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Product Management Program</title>
    <link rel="stylesheet" href="dk1b1.css">
</head>
<body>
<h2>Display all product</h2>
<div id="addNewProduct">
    <input id="productName" type="text" placeholder="Add new product" >
    <input id="addButton" type="button" value="Add" onclick="addProduct()">
</div>
<br>
<br>
<div id="productList">

</div>
<script>
    let  productListArray=[];
    let j=0;
    function displayListProduct(){
        let disPlayProductList="<table>"+ "<caption>Product List</caption>"+
            "<tr>"+
            "<td style='width:50px;text-align:center'>STT</td>"+
            "<td style='width:30px;color:red;font-size: 20px;font-weight: bolder'>Product name</td>" +
            "<td style='width: 30px; color: red; font-size: 20px; font-weight: bolder'>"+productListArray.length+" Products</td>" +
            "</tr>";
        for(let i=0; i<productListArray.length;i++){
            let temp=i+1;
            if(i%2==0) {
                disPlayProductList += "<tr id='" + i + "' class='displayProduct1'>" + "<td style='width: 30px; font-size: 20px;text-align: center;font-weight: bolder'>"+temp+"</td>"+
                    "<td class='productNameCol'>" + productListArray[i] + "</td>" +
                    "<td class='editButtonCol'><input type='button' class='edit' onclick='EditProductName(" + i + ")' value='Edit'></td>" +
                    "<td class='deleteButtonCol'> <input type='button' class='delete' value='Delete' onclick='DeleteProduct(" + i + ")'></td>" +
                    "</tr>";
            }
            else {
                disPlayProductList += "<tr id='" + i + "' class='displayProduct2'>" + "<td style='width: 30px; font-size: 20px; text-align: center; font-weight: bolder'>"+temp+"</td>"+
                    "<td class='productNameCol'>" + productListArray[i] + "</td>" +
                    "<td class='editButtonCol'><input type='button' class='edit' onclick='EditProductName(" + i + ")' value='Edit'></td>" +
                    "<td class='deleteButtonCol'> <input type='button' class='delete' value='Delete' onclick='DeleteProduct(" + i + ")'></td>" +
                    "</tr>";
            }
        }
        disPlayProductList+="</table>";
        document.getElementById("productList").innerHTML=disPlayProductList;
    }
    function addProduct() {
        let getProduct = document.getElementById("productName");
        if (getProduct.value == ""){
            alert("Please input product name again");
            return;
        }
        if (productListArray.length >= 1) {
            for (let i = 0; i < productListArray.length; i++) {
                console.log(i, productListArray[i], getProduct.value);
                if (getProduct.value == productListArray[i]) {
                    let conf;
                    conf = confirm("the product is existing in List, DO YOU WAN TO ADD");
                    if (conf == true)
                        break;
                    else
                        return;
                }
            }
        }
        productListArray.push(getProduct.value);
        displayListProduct();
    }
    function EditProductName(i)
    {
        let edit=prompt("The name of product:");
        if(edit!==null) {
            productListArray[i] = edit;
            displayListProduct();
        }
        else{
            let confirm;
            confirm=confirm("DO YOU WANT TO EDIT ?");
            if(confirm==false)
                return;
        }
    }
    function DeleteProduct(i) {
        productListArray.splice(i,1);
        displayListProduct();
    }
</script>>
</body>
</html>